
<div class="nav">
  <h2>
    <a routerLink="/home">Home </a>
    <span>> Cart</span>
  </h2>
</div>
<div class="sec1">

  <div class="text">
    <h2>Cart</h2>
    <h5>Manage your cart to proced checkout</h5>

  </div>
</div>

<div class="cart_body">

  <div class="products">
  <table class="table">
    <tr>
      <th>PRODUCT</th>
      <th>Wishlist</th>
      <th>QTY</th>
      <th>TOTAL</th>
      <th></th>
    </tr>
    <tr *ngFor="let x of itemlist" [id]="x.id" class="productCart" >
      <td class="cart_item">
        <img [src]="'https://arafa.000webhostapp.com/Hyper/uploads/' +x.main_image" class="img-fluid">
        <h5>{{x.name}}</h5>
      </td>
      <td>
        <i class="fas fa-heart"></i>
      </td>
      <td>

        <div class="qty">
          <i class="fas fa-minus" (click)="minus(x)"></i>
          <input [id]="'itemNum'+x.id" class="value" type="number"  [value]="x.orderQTY"  disabled >
<!--          <span>{{itemQTY}}</span>-->
         <i class="fas fa-plus" (click)="plus(x)"></i>
        </div>
      </td>
      <td>
        <h5>{{x.price*x.orderQTY|currency:' '}}</h5>
      </td>
      <td style="color: red;cursor: pointer">
        <i class="fas fa-times" (click)="removeItemFromCart(x.id)"></i>
      </td>
    </tr>

  </table>

  <div class="Voucher">
    <h6>Have a Voucher<br>
      Code ?</h6>
  <input type="text" placeholder="  Voucher Code">
    <button class="btn">Apply Code</button>

  </div>

  </div>

  <div class="cart_totals">
    <h4>Cart Totals</h4>
    <div class="line"></div>
    <div>
      <h5>Price</h5>
      <h3> {{finalPrice|currency:'EGP '}}</h3>
    </div>
    <div>
      <h5>Vocher price</h5>
      <h3>EGP 200</h3>
    </div>
    <div class="line"></div>
    <div>
      <h5>Subtotal</h5>
      <h3> {{subtotal|currency:'EGP '}}</h3>
    </div>
    <div>
      <h5>Shipping</h5>
      <h5>
        <form>
        <input type="radio" name="Shipping" value="localShipping"  id="local" (change)="onItemChange($event)" > local shipping from the store<br>
        <input type="radio" name="Shipping" value="freeShipping" [checked]="true" id="free"  (change)="onItemChange($event)"> Free shipping delivery<br>
        </form>
      </h5>
    </div>
    <div class="line"></div>
    <div>
      <h5>Calculate  Shipping</h5>
      <h3>EGP 0</h3>
    </div>
    <div class="line"></div>
    <div class="UserAddress">
      <h5>Choose Your Address</h5>
        <div>
        <button class="btn btn-info " routerLink="/address"  *ngIf="!addresses" >Enter Your Address</button>
          <select *ngIf="addresses" id="addressSelector">
            <option  class="option" [value]="x.id" *ngFor="let x of addresses.addresses">{{x.building_num}} {{x.street_name}},{{x.city_name}},{{x.country_name}} </option>
          </select>
          <select *ngIf="addresses" id="LocalDelivery" >
            <option  class="option" value="Omar saafan" >Omar saafan tanta Branch</option>
            <option  class="option" value="high way">high way tanta Branch</option>
          </select>
        </div>

    </div>
    <div class="line"></div>
    <div>
      <h6 style="font-weight: 600">Total</h6>
      <h2>{{totalPrice|currency:'EGP '}}</h2>
    </div>
    <div class="pt-3 pb-3">
      <button class="btn update " (click)="checkout()">Cash On Delivery</button>
      <button class="btn proceed" value="Pay with Lightbox" (click)="checkout()" onclick="Checkout.showLightbox()"  >Proceed to Checkout</button>
    </div>
<!--    <div>-->
<!--      <input type="button" value="Pay with Lightbox" onclick="Checkout.showLightbox()" />-->
<!--      <input type="button" value="Pay with Payment Page" onclick="Checkout.showPaymentPage()" />-->
<!--    </div>-->
    <div>
      <h6 > <img src="assets/img/icons/secure.png"> Secure online payments</h6>
      <img src="assets/img/icons/visa-mcard.png" class="visa_img">
    </div>
    <div class="pt-3  text-center">
      <p>  <img src="assets/img/icons/phone.png">
        Need help with your order? Give our sales team a call on<br>
        (040)3308300
      </p>
    </div>
  </div>



</div>



